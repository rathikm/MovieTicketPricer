{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rmur3/OneDrive/Documents/GitHub/MovieTicketPricer/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rmur3/OneDrive/Documents/GitHub/MovieTicketPricer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rmur3/OneDrive/Documents/GitHub/MovieTicketPricer/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Listing from'./components/Listing';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),movieName=_useState2[0],setMovieName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var handleChange=function handleChange(event){setMovieName(event.target.value);};// //credit to http://blog.stevenlevithan.com/archives/javascript-roman-numeral-converter\n// const romanize = (num) => {\n//   let lookup = {m:1000,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},\n//       roman = '',\n//       i;\n//   for (i in lookup) {\n//     while (num >= lookup[i]) {\n//       roman += i;\n//       num -= lookup[i];\n//     }\n//   }\n//   return roman;\n// }\nvar handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var m,i,c,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;m=movieName.toLowerCase();for(i=0;i<m.length;i++){c=m[i];if(c===\" \"||!c.match(/[a-z]/i)){if(m[i-1]!==\"-\"){m=m.replace(c,\"-\");}else{m=m.replace(c,\"\");i--;}}}console.log(m);_context.next=6;return fetch('api/'+m);case 6:response=_context.sent;_context.next=9;return response.json();case 9:m=_context.sent;setMovies(m);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function handleClick(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter movie name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Find Tickets\"}),movies.length>0&&movies.map(function(movie){return movie.formatted_time_price_list.map(function(formatted_time_price_combo){return formatted_time_price_combo.time_prices_combos.map(function(combo){return/*#__PURE__*/_jsx(Listing,{className:\"listing\",theater:movie.theater,addy:movie.addy,time:combo.time,price:combo.prices[0],format:formatted_time_price_combo.format});});});})]});}export default App;","map":{"version":3,"names":["React","useState","Listing","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","movieName","setMovieName","_useState3","_useState4","movies","setMovies","handleChange","event","target","value","handleClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","m","i","c","response","wrap","_callee$","_context","prev","next","toLowerCase","length","match","replace","console","log","fetch","sent","json","t0","error","stop","apply","arguments","className","children","placeholder","onChange","onClick","map","movie","formatted_time_price_list","formatted_time_price_combo","time_prices_combos","combo","theater","addy","time","price","prices","format"],"sources":["C:/Users/rmur3/OneDrive/Documents/GitHub/MovieTicketPricer/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Listing from './components/Listing';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [movieName, setMovieName] = useState(\"\")\r\n  const [movies, setMovies] = useState([])\r\n  \r\n  const handleChange = (event) => {\r\n    setMovieName(event.target.value)\r\n  }\r\n\r\n  // //credit to http://blog.stevenlevithan.com/archives/javascript-roman-numeral-converter\r\n  // const romanize = (num) => {\r\n  //   let lookup = {m:1000,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},\r\n  //       roman = '',\r\n  //       i;\r\n  //   for (i in lookup) {\r\n  //     while (num >= lookup[i]) {\r\n  //       roman += i;\r\n  //       num -= lookup[i];\r\n  //     }\r\n  //   }\r\n  //   return roman;\r\n  // }\r\n  \r\n  const handleClick = async () => {\r\n    try {\r\n      let m = movieName.toLowerCase()\r\n      for (let i=0;i<m.length;i++) {\r\n        const c = m[i]\r\n        if (c === \" \" || !c.match(/[a-z]/i) ) {\r\n          if(m[i-1] !== \"-\") {\r\n            m = m.replace(c, \"-\")\r\n          } else {\r\n            m = m.replace(c, \"\")\r\n            i--\r\n          }\r\n        } \r\n      }\r\n      console.log(m)\r\n      const response = await fetch('api/' + m)\r\n      m = await response.json()\r\n      setMovies(m)\r\n    } catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <input placeholder='Enter movie name' onChange={handleChange}/>\r\n      <button onClick={handleClick}>Find Tickets</button>\r\n      {movies.length > 0 && movies.map((movie) => {\r\n        \r\n        return movie.formatted_time_price_list.map((formatted_time_price_combo) => {\r\n          return formatted_time_price_combo.time_prices_combos.map((combo) => {\r\n            return <Listing className=\"listing\" theater={movie.theater} addy={movie.addy} time={combo.time} price={combo.prices[0]} format={formatted_time_price_combo.format}/>\r\n          })\r\n        })\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}